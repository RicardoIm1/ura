<!DOCTYPE html>
<html lang="es">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0" />
<title>50 Ejercicios Interactivos con Autoevaluación + Gamificación</title>
<link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;600;700&display=swap" rel="stylesheet">
<script src="https://polyfill.io/v3/polyfill.min.js?features=es6"></script>
<script id="MathJax-script" async src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
<style>
 body { font-family: 'Inter', sans-serif; background: #f2f4f7; margin: 0; }
 header { background:#1a237e; color:#fff; text-align:center; padding:1.5rem; font-size:1.8rem; font-weight:700; }
 .container { width:95%; max-width:900px; margin:2rem auto; }
 .accordion { background:#fff; margin-bottom:1rem; border-radius:.6rem; box-shadow:0 4px 10px rgba(0,0,0,.08); }
 .accordion-header { padding:1rem; background:#283593; color:#fff; cursor:pointer; font-size:1.1rem; font-weight:600; }
 .accordion-content { display:none; padding:1rem; }
 .math-equation { background:#eceff1; padding:.8rem; border-radius:.5rem; margin-bottom:1rem; font-family:'Courier New'; }
 .quiz-box { background:#f5f9ff; border-left:4px solid #1a73e8; padding:1rem; border-radius:.5rem; margin-top:1rem; }
 .progress { margin:1rem 0; height:20px; background:#c5cae9; border-radius:10px; overflow:hidden; }
 .progress-inner { height:100%; width:0%; background:#1a73e8; transition:.4s; }
</style>
</head>
<body>
<header>50 Ejercicios Interactivos + Gamificación</header>
<div class="container">
 <div class="progress"><div id="prog" class="progress-inner"></div></div>
 <div id="contenedor-ejercicios"></div>
</div>
<script>
const ejercicios = [
 { titulo:"Ecuación lineal 1", eq:"3x + 7 = 16", sol: "3" },
 { titulo:"Ecuación lineal 2", eq:"5x - 9 = 11", sol:"4" },
 { titulo:"Ecuación cuadrática 1", eq:"x^2 - 5x + 6 = 0", sol:"2,3" },
 { titulo:"Ecuación cuadrática 2", eq:"x^2 + x - 12 = 0", sol:"3,-4" },
 { titulo:"Vértice de parábola", eq:"y = x^2 - 4x + 1", sol:"2,-3" },
 { titulo:"Suma de ángulos seno", eq:"\sin(30°+45°)", sol:"0.9659" },
 { titulo:"Suma de ángulos coseno", eq:"\cos(30°+60°)", sol:"0.5" },
 { titulo:"Tangente identidad", eq:"\tan(45°)", sol:"1" },
 { titulo:"Seno inverso", eq:"\arcsin(1/2)", sol:"30°" },
 { titulo:"Coseno inverso", eq:"\arccos(1/2)", sol:"60°" },
];
while (ejercicios.length < 50) {
 const n = ejercicios.length+1;
 ejercicios.push({ titulo:`Ejercicio ${n}`, eq:`x + ${n} = ${n*2}`, sol:`${n}`});
}
let correctos = 0;
function render() {
 const cont = document.getElementById('contenedor-ejercicios');
 ejercicios.forEach((e, i) => {
   const card = document.createElement('div');
   card.className='accordion';
   card.innerHTML = `
     <div class="accordion-header">${i+1}. ${e.titulo}</div>
     <div class="accordion-content">
       <p class="math-equation">\(${e.eq}\)</p>
       <div class="quiz-box">
         <input id="r${i}" placeholder="Tu respuesta" />
         <button onclick="check(${i}, '${e.sol}')">Comprobar</button>
         <div id="m${i}"></div>
       </div>
     </div>`;
   cont.appendChild(card);
 });
 document.querySelectorAll('.accordion-header').forEach(h=>{
   h.onclick=()=>{
     const c=h.nextElementSibling; c.style.display=c.style.display==='block'?'none':'block';
   }
 });
}
render();
function check(i, sol) {
 const user=document.getElementById('r'+i).value.trim();
 const msg=document.getElementById('m'+i);
 if(user===sol){ msg.style.color='green'; msg.textContent='✔ Correcto'; correctos++; }
 else{ msg.style.color='red'; msg.textContent='✘ Incorrecto (Solución: '+sol+')'; }
 updateProgress();
}
function updateProgress() {
 const pct = (correctos / ejercicios.length)*100;
 document.getElementById('prog').style.width = pct + '%';
}
</script>
</body>
</html>
